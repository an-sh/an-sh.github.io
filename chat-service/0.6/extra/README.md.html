<!DOCTYPE html>
<html>
  <head>
  <meta charset='UTF-8'>
  <title>Chat service Documentation</title>
  <script src='../javascript/application.js'></script>
  <script src='../javascript/search.js'></script>
  <link rel='stylesheet' href='../stylesheets/application.css' type='text/css'>
</head>
  <body>
    <div id='base' data-path='../'></div>
<div id='header'>
  <div id='menu'>
    <a href='../extra/README.md.html' title='Chat service'>
      Chat service
    </a>
    &raquo;
    <a href='../alphabetical_index.html' title='Index'>
      Index
    </a>
    &raquo;
    <span class='title'>README.md</span>
  </div>
</div>
    <div id='content'>
      <nav class='toc'>
        <p class='title'>
          <a class='hide_toc' href='#'>
            <strong>Table of Contents</strong>
          </a>
          <small>
            (<a class='float_toc' href='#'>left</a>)
          </small>
        </p>
      </nav>
      <div id='filecontents'>
        <h1 id="chat-service">Chat service</h1><p><a href="https://travis-ci.org/an-sh/chat-service"><img src="https://travis-ci.org/an-sh/chat-service.svg?branch=master" alt="Build Status"></a>
<a href="https://coveralls.io/github/an-sh/chat-service?branch=master"><img src="https://coveralls.io/repos/an-sh/chat-service/badge.svg?branch=master&amp;service=github" alt="Coverage Status"></a>
<a href="https://david-dm.org/an-sh/chat-service"><img src="https://david-dm.org/an-sh/chat-service.svg" alt="Dependency Status"></a></p><p>Server side chat based on top of socket.io focused on scalability and
extensibility.</p><h3 id="features">Features</h3>
<ul>
<li>Simple network layer using socket.io and json based messages.</li>
<li>Room and user2user chatting with permissions management.</li>
<li>Allows a single user to have multiple connected sockets.</li>
<li>Runs as a stateless service with built-in Redis state storage.</li>
<li>Can be extened via command hooks.</li>
<li>Can use external state storage implementations.</li>
<li>Extensive unit test coverage (95%+).</li>
</ul>
<h3 id="basic-usage">Basic usage</h3>
<pre><code class="lang-javascript">var chatServer = new ChatService({ port : port },
                                 { auth : auth, onConnect : onConnect },
                                 &#39;redis&#39;);
</code></pre><p>Here we have created a new server instance. It is ruuning <em><code>port</code></em>
according to options argument. The second argument represents hooks,
that will run during server lifetime. <em><code>auth</code></em> hook is simular to the
one that is described in socket.io documentation, and <em><code>onConnect</code></em>
hook will run when client is connected. These hook are intended for
integration to existing user authentication systems. The last argument
is a state storage.</p><p>Connection from a client side is trivial:</p><pre><code class="lang-javascript">socket = ioClient.connect(url1, params);
socket.on(&#39;loginConfirmed&#39;, function(username) {
  // code
});
</code></pre><p>A conneted client can send <code>UserCommands</code> to a server:</p><pre><code class="lang-javascript">socket.emit(&#39;roomJoin&#39;, &#39;someRoom&#39;, function(error, data) {
  // code
});
</code></pre><p>A server reply is send as a socket.io ack and has a standart node
(error, data) callback arguments format. Semantics of most commands is
very straitforward and simple. Only for room commands a client must
join a room to succesfully execute them.</p><pre><code class="lang-javascript">socket.on(&#39;roomMessage&#39;, function(room, user, msg) {
});
</code></pre><p>Also a server will send <code>ServerMessages</code>.  Note that these messages
don&#39;t require any reply.</p><h3 id="frontend-example">Frontend example</h3><p>An angular based application is in <code>example</code> directory. From this
directory run <code>npm install &amp;&amp; gulp &amp;&amp; bin/www</code> to build the
application and start a server (by default on port 3000).</p><p><img src="http://an-sh.github.io/chat-service/example.png" alt="Example" title="Example"></p><h3 id="documentation">Documentation</h3><p>Is available at <a href="http://an-sh.github.io/chat-service/0.6/">gitpages</a></p><p>Run <code>npm install -g codo</code> and <code>codo</code> to generate documentation. Public
API consists of public methods of the following classes:</p><ul>
<li>Class: <code>ServerMessages</code> - represents socket.io messages sent from a
server to a client. No client reply is requered.</li>
<li>Class: <code>UserCommands</code> - represents socket.io messages sent from a
client to a server. Server will send back a socket.io ack reply with
(error, data) arguments.</li>
<li>Class: <code>ChatService</code> - is a server instance.</li>
<li>Class: <code>Room</code> - represents a room.</li>
<li>Class: <code>User</code> - represents an user.</li>
</ul><p>Look in the test directory, for socket.io-client messages, server
setup and hooks usage.</p><h3 id="license">License</h3><p>MIT</p>
      </div>
    </div>
    <div id='footer'>
  December 05, 15 03:08:29 by
  <a href='https://github.com/coffeedoc/codo' title='CoffeeScript API documentation generator'>
    Codo
  </a>
  2.0.11
  &#10034;
  Press H to see the keyboard shortcuts
  &#10034;
  <a href='http://twitter.com/netzpirat' target='_parent'>@netzpirat</a>
  &#10034;
  <a href='http://twitter.com/_inossidabile' target='_parent'>@_inossidabile</a>
</div>
<iframe id='search_frame'></iframe>
<div id='fuzzySearch'>
  <input type='text'>
  <ol></ol>
</div>
<div id='help'>
  <p>
    Quickly fuzzy find classes, mixins, methods, file:
  </p>
  <ul>
    <li>
      <span>T</span>
      Open fuzzy finder dialog
    </li>
  </ul>
  <p>
    Control the navigation frame:
  </p>
  <ul>
    <li>
      <span>L</span>
      Toggle list view
    </li>
    <li>
      <span>C</span>
      Show class list
    </li>
    <li>
      <span>I</span>
      Show mixin list
    </li>
    <li>
      <span>F</span>
      Show file list
    </li>
    <li>
      <span>M</span>
      Show method list
    </li>
    <li>
      <span>E</span>
      Show extras list
    </li>
  </ul>
  <p>
    You can focus and blur the search input:
  </p>
  <ul>
    <li>
      <span>S</span>
      Focus search input
    </li>
    <li>
      <span>Esc</span>
      Blur search input
    </li>
  </ul>
</div>
  </body>
</html>